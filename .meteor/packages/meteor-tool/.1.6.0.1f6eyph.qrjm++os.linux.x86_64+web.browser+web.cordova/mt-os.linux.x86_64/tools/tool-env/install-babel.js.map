{"version":3,"sources":["/tools/tool-env/install-babel.js"],"names":["babelRegister","meteorBabel","require","path","toolsPath","dirname","__dirname","meteorPath","cacheDir","join","babelOptions","getDefaultOptions","nodeMajorVersion","parseInt","process","versions","node","sourceMap","setCacheDir","allowDirectory","setSourceMapRootPath","setBabelOptions"],"mappings":"AAAA;AACA;AAEA;;AAEA,SAASA,aAAT,GAAyB;AACvB,QAAMC,cAAcC,QAAQ,cAAR,CAApB;;AACA,QAAMC,OAAOD,QAAQ,MAAR,CAAb;;AACA,QAAME,YAAYD,KAAKE,OAAL,CAAaC,SAAb,CAAlB;AACA,QAAMC,aAAaJ,KAAKE,OAAL,CAAaD,SAAb,CAAnB;AACA,QAAMI,WAAWL,KAAKM,IAAL,CAAUF,UAAV,EAAsB,cAAtB,CAAjB;AACA,QAAMG,eAAeT,YAAYU,iBAAZ,CAA8B;AACjDC,sBAAkBC,SAASC,QAAQC,QAAR,CAAiBC,IAA1B;AAD+B,GAA9B,CAArB,CANuB,CAUvB;AACA;;AACAN,eAAaO,SAAb,GAAyB,QAAzB;AAEAhB,cAAYiB,WAAZ,CAAwBV,QAAxB;;AAEAN,UAAQ,uBAAR,EACGiB,cADH,CACkBf,SADlB,EAEGgB,oBAFH,CAEwBb,UAFxB,EAGGc,eAHH,CAGmBX,YAHnB;AAID;;AAIDR,QAAQ,sBAAR","file":"tools/tool-env/install-babel.js.map","sourcesContent":["// This file exists because it is the file in the tool that is not automatically\n// transpiled by Babel\n\n\"use strict\";\n\nfunction babelRegister() {\n  const meteorBabel = require(\"meteor-babel\");\n  const path = require(\"path\");\n  const toolsPath = path.dirname(__dirname);\n  const meteorPath = path.dirname(toolsPath);\n  const cacheDir = path.join(meteorPath, \".babel-cache\");\n  const babelOptions = meteorBabel.getDefaultOptions({\n    nodeMajorVersion: parseInt(process.versions.node)\n  });\n\n  // Make sure that source maps are included in the generated code for\n  // meteor/tools modules.\n  babelOptions.sourceMap = \"inline\";\n\n  meteorBabel.setCacheDir(cacheDir);\n\n  require('meteor-babel/register')\n    .allowDirectory(toolsPath)\n    .setSourceMapRootPath(meteorPath)\n    .setBabelOptions(babelOptions);\n}\n\n\n\nrequire(\"./install-runtime.js\");\n"]}