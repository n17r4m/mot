{"version":3,"sources":["/tools/isobuild/test-files.js"],"names":["module","export","TEST_FILENAME_REGEXPS","APP_TEST_FILENAME_REGEXPS","isTestFilePath","_","watch","require","default","v","pathSep","path","splitPath","split","any","regexp","test","last"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,yBAAsB,MAAIA,qBAA3B;AAAiDC,6BAA0B,MAAIA,yBAA/E;AAAyGC,kBAAe,MAAIA;AAA5H,CAAd;;AAA2J,IAAIC,CAAJ;;AAAML,OAAOM,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACC,UAAQC,CAAR,EAAU;AAACJ,QAAEI,CAAF;AAAI;;AAAhB,CAAnC,EAAqD,CAArD;AAAwD,IAAIC,OAAJ;AAAYV,OAAOM,KAAP,CAAaC,QAAQ,aAAR,CAAb,EAAoC;AAACG,UAAQD,CAAR,EAAU;AAACC,cAAQD,CAAR;AAAU;;AAAtB,CAApC,EAA4D,CAA5D;AAI9N,MAAMP,wBAAwB,CACnC;AACA,WAFmC,EAGnC,WAHmC,CAA9B;AAMA,MAAMC,4BAA4B,CACvC;AACA,eAFuC,EAGvC,eAHuC,CAAlC;;AAQA,SAASC,cAAT,CAAwBO,IAAxB,EAA8B;AACnC,QAAMC,YAAYD,KAAKE,KAAL,CAAWH,OAAX,CAAlB,CADmC,CAGnC;;AACA,SAAOL,EAAES,GAAF,CACL,CAAC,GAAGZ,qBAAJ,EAA2B,GAAGC,yBAA9B,CADK,EAELY,UAAUA,OAAOC,IAAP,CAAYX,EAAEY,IAAF,CAAOL,SAAP,CAAZ,CAFL,CAAP;AAGD","file":"tools/isobuild/test-files.js.map","sourcesContent":["import _ from 'underscore';\nimport { pathSep } from '../fs/files';\n\n// We have two things \"tests\" and \"app-tests\".\nexport const TEST_FILENAME_REGEXPS = [\n  // \"*.test[s].*\" or \"*.spec[s].*\"\n  /\\.tests?./,\n  /\\.specs?./,\n];\n\nexport const APP_TEST_FILENAME_REGEXPS = [\n  // \"*.app-tests.*\" or \"*.app-specs.*\"\n  /\\.app-tests?./,\n  /\\.app-specs?./,\n];\n\n// Given a path to a file in an app (relative to the app root\n// directory), is this file a test file?\nexport function isTestFilePath(path) {\n  const splitPath = path.split(pathSep);\n\n  // Does the filename match one of the test filename forms?\n  return _.any(\n    [...TEST_FILENAME_REGEXPS, ...APP_TEST_FILENAME_REGEXPS],\n    regexp => regexp.test(_.last(splitPath)));\n}\n"]}