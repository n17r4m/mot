{"version":3,"sources":["/tools/tool-env/install-runtime.js"],"names":["require","Module","module","constructor","Mp","prototype","enable","moduleLoad","load","filename","result","apply","arguments","runSetters","runModuleSetters","call"],"mappings":"AAAA,a,CAEA;AACA;AACA;;AACAA,QAAQ,sBAAR;;AAEA,MAAMC,SAASC,OAAOC,WAAtB;AACA,MAAMC,KAAKH,OAAOI,SAAlB,C,CAEA;;AACAL,QAAQ,mBAAR,EAA6BM,MAA7B,CAAoCF,EAApC;;AAEA,MAAMG,aAAaH,GAAGI,IAAtB;;AACAJ,GAAGI,IAAH,GAAU,UAAUC,QAAV,EAAoB;AAC5B,QAAMC,SAASH,WAAWI,KAAX,CAAiB,IAAjB,EAAuBC,SAAvB,CAAf;AACA,QAAMC,aAAa,KAAKA,UAAL,IAAmB,KAAKC,gBAA3C;;AACA,MAAI,OAAOD,UAAP,KAAsB,UAA1B,EAAsC;AACpC;AACA;AACAA,eAAWE,IAAX,CAAgB,IAAhB;AACD;;AACD,SAAOL,MAAP;AACD,CATD,C,CAWA;AACA;;;AACAV,QAAQ,iCAAR","file":"tools/tool-env/install-runtime.js.map","sourcesContent":["\"use strict\";\n\n// Install ES2015-complaint polyfills for Object, Array, String, Function,\n// Symbol, Map, Set, and Promise, patching the native implementations when\n// they are available.\nrequire(\"./install-promise.js\");\n\nconst Module = module.constructor;\nconst Mp = Module.prototype;\n\n// Enable the module.{watch,export,...} runtime API needed by Reify.\nrequire(\"reify/lib/runtime\").enable(Mp);\n\nconst moduleLoad = Mp.load;\nMp.load = function (filename) {\n  const result = moduleLoad.apply(this, arguments);\n  const runSetters = this.runSetters || this.runModuleSetters;\n  if (typeof runSetters === \"function\") {\n    // Make sure we call module.runSetters (or module.runModuleSetters, a\n    // legacy synonym) whenever a module finishes loading.\n    runSetters.call(this);\n  }\n  return result;\n};\n\n// Installs source map support with a hook to add functions to look for\n// source maps in custom places.\nrequire('./source-map-retriever-stack.js');\n"]}